import"./tab-xbr07iho.js";import{g as T,q as U,E as q,a as B,b as F,c as N,d as P,e as R,f as j}from"./system-BR4f4oBM.js";import"./request-CcomvHR9.js";import"./el-tooltip-GGf4AG67.js";import{i as A}from"./index-Cc46_B1g.js";import{r as p,o as h,c as G,G as L,w as o,f as e,h as d,e as C,j as W,k as M}from"./index-CIZYmY3Y.js";const O=C("span",null,"预约日期",-1),$={__name:"Index",setup(H){const c=p(""),g=p(""),_=p(""),y=p(""),f=p(null),r=p({}),V=async()=>{r.value=await T()},w=()=>{const n=A(f.value),a={title:{text:"就医情况对比"},tooltip:{trigger:"axis"},legend:{data:["家庭就医","社区就医"],bottom:"0%"},xAxis:{type:"category",data:r.value.dayList},yAxis:{type:"value"},series:[{name:"家庭就医",type:"bar",data:r.value.homeList,barWidth:"40%",barGap:"0%",itemStyle:{color:"#009DFF"}},{name:"社区就医",type:"bar",data:r.value.community,barWidth:"40%",barGap:"0%",itemStyle:{color:"#22E4FF"}}]};n.setOption(a)};h(async()=>{await V(),w()});const v=p([]),l=p({page:1,size:10,total:null}),u=async()=>{const{list:n,total:a}=await U("1",l.value.page,l.value.size);v.value=n,l.value.total=a};h(()=>{u()});const z=n=>{l.value.page=1,l.value.size=n,u()},E=n=>{l.value.page=n,u()};return(n,a)=>{const b=W,i=B,x=F,m=M,k=N,s=P,D=R,S=j,I=q;return G(),L(I,null,{default:o(()=>[e(k,{gutter:10},{default:o(()=>[e(i,{span:4},{default:o(()=>[e(b,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=t=>c.value=t),placeholder:"请输入id"},null,8,["modelValue"])]),_:1}),e(i,{span:4,style:{"margin-left":"20px"}},{default:o(()=>[e(b,{modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=t=>g.value=t),placeholder:"请输入患者姓名"},null,8,["modelValue"])]),_:1}),e(i,{span:11,style:{display:"flex","align-items":"center","margin-left":"20px"}},{default:o(()=>[O,e(x,{modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=t=>_.value=t),placeholder:"请选择开始日期",style:{"margin-left":"20px"}},null,8,["modelValue"]),e(x,{modelValue:y.value,"onUpdate:modelValue":a[3]||(a[3]=t=>y.value=t),"arrow-control":"",placeholder:"请选择结束日期",style:{"margin-left":"20px"}},null,8,["modelValue"])]),_:1}),e(i,{span:3,style:{"margin-left":"30px"}},{default:o(()=>[e(m,{type:"primary",onClick:u},{default:o(()=>[d("搜索")]),_:1}),e(m,{onClick:n.reset},{default:o(()=>[d("重置")]),_:1},8,["onClick"])]),_:1})]),_:1}),C("div",{ref_key:"chartRef",ref:f,style:{width:"100%",height:"400px","margin-top":"20px"}},null,512),e(D,{data:v.value,style:{width:"100%","margin-top":"20px"}},{default:o(()=>[e(s,{prop:"id",label:"ID",width:"80px"}),e(s,{prop:"patient.username",label:"患者"}),e(s,{prop:"type",label:"类型"}),e(s,{prop:"appointment_time",label:"预约时间"}),e(s,{prop:"patient.chain_account",label:"所属区块"}),e(s,{prop:"physician.username",label:"指派医师"}),e(s,{label:"操作"},{default:o(({row:t})=>[e(m,{type:"text"},{default:o(()=>[d("查看")]),_:1})]),_:1})]),_:1},8,["data"]),e(S,{"current-page":l.value.page,"onUpdate:currentPage":a[4]||(a[4]=t=>l.value.page=t),"page-size":l.value.size,"onUpdate:pageSize":a[5]||(a[5]=t=>l.value.size=t),"page-sizes":[2,3,5,10],background:!0,layout:"jumper, total, sizes, prev, pager, next",total:l.value.total,onSizeChange:z,onCurrentChange:E,style:{"margin-top":"20px","justify-content":"flex-end"}},null,8,["current-page","page-size","total"])]),_:1})}}};export{$ as default};
