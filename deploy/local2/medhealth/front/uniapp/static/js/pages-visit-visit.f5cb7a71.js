(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-visit-visit"],{"0aa2":function(a,t,e){"use strict";e.r(t);var n=e("2e8b"),i=e.n(n);for(var r in n)["default"].indexOf(r)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(r);t["default"]=i.a},2057:function(a,t,e){"use strict";var n=e("d117"),i=e.n(n);i.a},"2e8b":function(a,t,e){"use strict";e("6a54");var n=e("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(e("2634")),r=n(e("2fdc"));e("e966");var o=e("2329"),c=e("e3ce"),d=e("9b94"),s={data:function(){return{cardInfo:{},bodyData:{bind_inquiry_id:null,diagnostic_description:"",medical_img:"",inquiry_video:"",is_need_by_drug:!1}}},onLoad:function(a){this.getCardInfo(a.id),this.bodyData.bind_inquiry_id=parseInt(a.id)},methods:{getCardInfo:function(a){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.queryInquiryRecordById)(a);case 2:n=e.sent,t.cardInfo=n.data[0],console.log(t.cardInfo);case 5:case"end":return e.stop()}}),e)})))()},imgRead:function(a){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,(0,o.uploadFile)(a.file.url);case 3:n=e.sent,t.bodyData.medical_img=n.data[0];case 5:case"end":return e.stop()}}),e)})))()},videoRead:function(a){var t=this;return(0,r.default)((0,i.default)().mark((function e(){var n;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,(0,o.uploadFile)(a.file.url);case 3:n=e.sent,t.bodyData.inquiry_video=n.data[0];case 5:case"end":return e.stop()}}),e)})))()},checkChange:function(a){console.log(a),a.detail.value.length>0?this.bodyData.is_need_by_drug=!0:this.bodyData.is_need_by_drug=!1,console.log(this.bodyData.is_need_by_drug)},handleSubmit:function(){var a=this;return(0,r.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==a.bodyData.inquiry_video&&""!==a.bodyData.medical_img){t.next=2;break}return t.abrupt("return",(0,d.toast)("请填写完整的信息"));case 2:return t.next=4,(0,c.medicalRegistration)(a.bodyData);case 4:(0,d.toast)("登记成功"),a.$tab.navigateBack();case 6:case"end":return t.stop()}}),t)})))()}}};t.default=s},"5e43":function(a,t,e){var n=e("c86c");t=n(!1),t.push([a.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-163b6ba4]{height:100%;display:flex;flex-direction:column}.container .navigator[data-v-163b6ba4]{display:flex;justify-content:space-between;align-items:center;padding:%?25?% %?20?%;color:#fff;background-color:#84c99a}.container .card-container[data-v-163b6ba4]{padding:%?20?%}.container .card-container .info-card[data-v-163b6ba4]{display:flex;align-items:flex-start;border:1px solid #ddd;border-radius:8px;padding:16px;background-color:#fff;box-shadow:0 4px 8px rgba(0,0,0,.1)}.container .card-container .info-card .doctor-avatar[data-v-163b6ba4]{width:80px;height:80px;border-radius:50%;margin-right:16px}.container .card-container .info-card .info-section[data-v-163b6ba4]{flex:1}.container .card-container .info-card .info-section .card-header[data-v-163b6ba4]{display:flex;justify-content:flex-start;margin-bottom:16px}.container .card-container .info-card .info-section .card-header .title[data-v-163b6ba4]{font-size:18px;font-weight:700;color:#333}.container .card-container .info-card .info-section .card-body .item[data-v-163b6ba4]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.container .card-container .info-card .info-section .card-body .item .label[data-v-163b6ba4]{font-size:16px;color:#666}.container .card-container .info-card .info-section .card-body .item .value[data-v-163b6ba4]{font-size:16px;color:#333}.container .record-container[data-v-163b6ba4]{padding:%?20?%}.container .record-container[data-v-163b6ba4] :deep(.u-checkbox__icon-wrap){width:%?36?%;height:%?36?%}',""]),a.exports=t},"8b10":function(a,t,e){"use strict";e.r(t);var n=e("bcb8"),i=e("0aa2");for(var r in i)["default"].indexOf(r)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(r);e("2057");var o=e("828b"),c=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"163b6ba4",null,!1,n["a"],void 0);t["default"]=c.exports},bcb8:function(a,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return r})),e.d(t,"a",(function(){return n}));var n={uniIcons:e("bb67").default,uUpload:e("c564").default,uButton:e("c602").default,"u-Textarea":e("35b0").default},i=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"navigator"},[n("uni-icons",{attrs:{type:"arrow-left",size:"40",color:"#ffffff"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.$tab.navigateBack()}}}),n("v-uni-text",{staticStyle:{"font-size":"40rpx","font-weight":"bold"}},[a._v("就诊记录")]),n("v-uni-view",{staticStyle:{width:"70rpx",height:"70rpx"}})],1),n("v-uni-view",{staticClass:"card-container"},[n("v-uni-view",{staticClass:"info-card",staticStyle:{"margin-top":"20rpx"}},[n("v-uni-image",{staticClass:"doctor-avatar",attrs:{src:e("f676"),mode:"aspectFill"}}),n("v-uni-view",{staticClass:"info-section"},[n("v-uni-view",{staticClass:"card-header"},[n("v-uni-text",{staticClass:"title"},[a._v("预约卡片")])],1),n("v-uni-view",{staticClass:"card-body"},[n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"label"},[a._v("预约时间:")]),n("v-uni-text",{staticClass:"value"},[a._v(a._s(a.cardInfo.appointment_time))])],1),a.cardInfo.patient.username?n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"label"},[a._v("姓名:")]),n("v-uni-text",{staticClass:"value"},[a._v(a._s(a.cardInfo.patient.username))])],1):a._e(),a.cardInfo.patient.age?n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"label"},[a._v("年龄:")]),n("v-uni-text",{staticClass:"value"},[a._v(a._s(a.cardInfo.patient.age))])],1):a._e(),a.cardInfo.patient.sex?n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"label"},[a._v("性别:")]),n("v-uni-text",{staticClass:"value"},[a._v(a._s(a.cardInfo.patient.sex))])],1):a._e(),n("v-uni-view",{staticClass:"item"},[n("v-uni-text",{staticClass:"label"},[a._v("问诊类型:")]),n("v-uni-text",{staticClass:"value"},[a._v(a._s(a.cardInfo.type))])],1)],1)],1)],1)],1),n("v-uni-view",{staticClass:"record-container"},[n("v-uni-view",{staticStyle:{"background-color":"#ffffff","border-radius":"8px",padding:"20rpx"}},[n("v-uni-text",[a._v("病例:")]),n("u-upload",{staticStyle:{"margin-top":"20rpx"},on:{afterRead:function(t){arguments[0]=t=a.$handleEvent(t),a.imgRead.apply(void 0,arguments)}}},[a.bodyData.medical_img?n("v-uni-image",{attrs:{src:a.bodyData.medical_img,mode:"aspectFit"}}):n("u-button",{attrs:{type:"info"}},[a._v("上传")])],1)],1),n("v-uni-view",{staticStyle:{"background-color":"#ffffff","border-radius":"8px",padding:"20rpx","margin-top":"20rpx"}},[n("v-uni-view",[a._v("诊断记录:")]),a.bodyData.inquiry_video?n("v-uni-video",{ref:"myVideo",staticStyle:{"margin-top":"20rpx"},attrs:{controls:!0,autoplay:!0,loop:!0,muted:!0,src:a.bodyData.inquiry_video},on:{error:function(t){arguments[0]=t=a.$handleEvent(t),a.handleError.apply(void 0,arguments)},canplay:function(t){arguments[0]=t=a.$handleEvent(t),a.handleCanPlay.apply(void 0,arguments)},play:function(t){arguments[0]=t=a.$handleEvent(t),a.handlePlay.apply(void 0,arguments)},pause:function(t){arguments[0]=t=a.$handleEvent(t),a.handlePause.apply(void 0,arguments)},ended:function(t){arguments[0]=t=a.$handleEvent(t),a.handleEnded.apply(void 0,arguments)}}}):a._e(),n("u-upload",{staticStyle:{"margin-top":"20rpx"},attrs:{accept:"video"},on:{afterRead:function(t){arguments[0]=t=a.$handleEvent(t),a.videoRead.apply(void 0,arguments)}}},[n("u-button",{attrs:{type:"info"}},[a._v("上传")])],1)],1),n("v-uni-view",{staticStyle:{"background-color":"#ffffff","border-radius":"8px",padding:"20rpx","margin-top":"20rpx"}},[n("u--textarea",{attrs:{placeholder:"诊断概述（非必选"},model:{value:a.bodyData.diagnostic_description,callback:function(t){a.$set(a.bodyData,"diagnostic_description",t)},expression:"bodyData.diagnostic_description"}})],1),n("v-uni-view",{staticStyle:{"background-color":"#ffffff","border-radius":"8px",padding:"20rpx","margin-top":"20rpx"}},[n("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=a.$handleEvent(t),a.checkChange.apply(void 0,arguments)}}},[n("v-uni-label",[n("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{value:"cb",checked:a.bodyData.is_need_by_drug}}),a._v("是否代买药品")],1)],1),n("v-uni-button",{staticStyle:{"border-radius":"20rpx","background-color":"#909399",color:"#ffffff","margin-top":"40rpx"},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.handleSubmit.apply(void 0,arguments)}}},[a._v("记录")])],1)],1)],1)},r=[]},d117:function(a,t,e){var n=e("5e43");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);var i=e("967d").default;i("3522ec16",n,!0,{sourceMap:!1,shadowMode:!1})}}]);