(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register"],{"1e8b":function(t,e,n){"use strict";n.r(e);var a=n("57bc"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"1ea7":function(t,e,n){"use strict";n.r(e);var a=n("65510"),i=n("1e8b");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("9fcc");var r=n("828b"),s=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"26ea2b8a",null,!1,a["a"],void 0);e["default"]=s.exports},"57bc":function(t,e,n){"use strict";n("6a54");var a=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("2634")),o=a(n("2fdc")),r=n("a42c"),s={data:function(){return{codeUrl:"",captchaEnabled:!0,globalConfig:getApp().globalData.config,registerForm:{username:"",password:"",confirmPassword:"",code:"",uuid:""}}},created:function(){this.getCode()},methods:{handleUserLogin:function(){this.$tab.navigateTo("/pages/login")},getCode:function(){var t=this;(0,r.getCodeImg)().then((function(e){t.captchaEnabled=void 0===e.captchaEnabled||e.captchaEnabled,t.captchaEnabled&&(t.codeUrl="data:image/gif;base64,"+e.img,t.registerForm.uuid=e.uuid)}))},handleRegister:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:""===t.registerForm.username?t.$modal.msgError("请输入您的账号"):""===t.registerForm.password?t.$modal.msgError("请输入您的密码"):""===t.registerForm.confirmPassword?t.$modal.msgError("请再次输入您的密码"):t.registerForm.password!==t.registerForm.confirmPassword?t.$modal.msgError("两次输入的密码不一致"):""===t.registerForm.code&&t.captchaEnabled?t.$modal.msgError("请输入验证码"):(t.$modal.loading("注册中，请耐心等待..."),t.register());case 1:case"end":return e.stop()}}),e)})))()},register:function(){var t=this;return(0,o.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:(0,r.register)(t.registerForm).then((function(e){t.$modal.closeLoading(),uni.showModal({title:"系统提示",content:"恭喜你，您的账号 "+t.registerForm.username+" 注册成功！",success:function(t){t.confirm&&uni.redirectTo({url:"/pages/login"})}})})).catch((function(){t.captchaEnabled&&t.getCode()}));case 1:case"end":return e.stop()}}),e)})))()},registerSuccess:function(t){var e=this;this.$store.dispatch("GetInfo").then((function(t){e.$tab.reLaunch("/pages/index")}))}}};e.default=s},65510:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"normal-login-container"},[n("v-uni-view",{staticClass:"logo-content align-center justify-center flex"},[n("v-uni-image",{staticStyle:{width:"100rpx",height:"100rpx"},attrs:{src:t.globalConfig.appInfo.logo,mode:"widthFix"}}),n("v-uni-text",{staticClass:"title"},[t._v("若依移动端注册")])],1),n("v-uni-view",{staticClass:"login-form-content"},[n("v-uni-view",{staticClass:"input-item flex align-center"},[n("v-uni-view",{staticClass:"iconfont icon-user icon"}),n("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入账号",maxlength:"30"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}})],1),n("v-uni-view",{staticClass:"input-item flex align-center"},[n("v-uni-view",{staticClass:"iconfont icon-password icon"}),n("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码",maxlength:"20"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),n("v-uni-view",{staticClass:"input-item flex align-center"},[n("v-uni-view",{staticClass:"iconfont icon-password icon"}),n("v-uni-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入重复密码",maxlength:"20"},model:{value:t.registerForm.confirmPassword,callback:function(e){t.$set(t.registerForm,"confirmPassword",e)},expression:"registerForm.confirmPassword"}})],1),t.captchaEnabled?n("v-uni-view",{staticClass:"input-item flex align-center",staticStyle:{width:"60%",margin:"0px"}},[n("v-uni-view",{staticClass:"iconfont icon-code icon"}),n("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入验证码",maxlength:"4"},model:{value:t.registerForm.code,callback:function(e){t.$set(t.registerForm,"code",e)},expression:"registerForm.code"}}),n("v-uni-view",{staticClass:"login-code"},[n("v-uni-image",{staticClass:"login-code-img",attrs:{src:t.codeUrl},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCode.apply(void 0,arguments)}}})],1)],1):t._e(),n("v-uni-view",{staticClass:"action-btn"},[n("v-uni-button",{staticClass:"register-btn cu-btn block bg-blue lg round",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleRegister()}}},[t._v("注册")])],1)],1),n("v-uni-view",{staticClass:"xieyi text-center"},[n("v-uni-text",{staticClass:"text-blue",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleUserLogin.apply(void 0,arguments)}}},[t._v("使用已有账号登录")])],1)],1)},i=[]},"9fcc":function(t,e,n){"use strict";var a=n("d2df"),i=n.n(a);i.a},afa0:function(t,e,n){var a=n("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-26ea2b8a]{background-color:#fff}body.?%PAGE?%[data-v-26ea2b8a]{background-color:#fff}.normal-login-container[data-v-26ea2b8a]{width:100%}.normal-login-container .logo-content[data-v-26ea2b8a]{width:100%;font-size:21px;text-align:center;padding-top:15%}.normal-login-container .logo-content uni-image[data-v-26ea2b8a]{border-radius:4px}.normal-login-container .logo-content .title[data-v-26ea2b8a]{margin-left:10px}.normal-login-container .login-form-content[data-v-26ea2b8a]{text-align:center;margin:20px auto;margin-top:15%;width:80%}.normal-login-container .login-form-content .input-item[data-v-26ea2b8a]{margin:20px auto;background-color:#f5f6f7;height:45px;border-radius:20px}.normal-login-container .login-form-content .input-item .icon[data-v-26ea2b8a]{font-size:%?38?%;margin-left:10px;color:#999}.normal-login-container .login-form-content .input-item .input[data-v-26ea2b8a]{width:100%;font-size:14px;line-height:20px;text-align:left;padding-left:15px}.normal-login-container .login-form-content .register-btn[data-v-26ea2b8a]{margin-top:40px;height:45px}.normal-login-container .login-form-content .xieyi[data-v-26ea2b8a]{color:#333;margin-top:20px}.normal-login-container .login-form-content .login-code[data-v-26ea2b8a]{height:38px;float:right}.normal-login-container .login-form-content .login-code .login-code-img[data-v-26ea2b8a]{height:38px;position:absolute;margin-left:10px;width:%?200?%}',""]),t.exports=e},d2df:function(t,e,n){var a=n("afa0");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("967d").default;i("61c3a3ea",a,!0,{sourceMap:!1,shadowMode:!1})}}]);