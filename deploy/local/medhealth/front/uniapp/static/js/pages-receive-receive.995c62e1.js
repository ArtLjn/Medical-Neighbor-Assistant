(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-receive-receive"],{"1e84":function(e,t,r){"use strict";r.r(t);var n=r("7738"),i=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},2346:function(e,t,r){"use strict";var n=r("e6cc"),i=r.n(n);i.a},"5d50":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}));var n={uniIcons:r("bb67").default,uForm:r("fb64").default,uFormItem:r("021b").default,uInput:r("3c18").default,uRadioGroup:r("01b6").default,uRadio:r("b5d2").default,uPicker:r("837c").default,"u-Input":r("b070").default,uIcon:r("6551").default,uDatetimePicker:r("6d38").default,"u-Textarea":r("35b0").default},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"container"},[r("v-uni-view",{staticClass:"navigator"},[r("uni-icons",{attrs:{type:"arrow-left",size:"40",color:"#ffffff"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$tab.navigateBack()}}}),r("v-uni-text",{staticStyle:{"font-size":"40rpx","font-weight":"bold"}},[e._v("接诊详情")]),r("v-uni-view",{staticStyle:{width:"70rpx",height:"70rpx"}})],1),r("v-uni-view",{staticClass:"form-container"},[r("u-form",{ref:"uForm",attrs:{model:e.registerForm,rules:e.rules,labelWidth:"200",labelPosition:"top"}},[r("u-form-item",{attrs:{label:"病人姓名",prop:"registerForm.patient.username",borderBottom:!0}},[r("u-input",{attrs:{border:"none"},model:{value:e.registerForm.patient.username,callback:function(t){e.$set(e.registerForm.patient,"username",t)},expression:"registerForm.patient.username"}})],1),r("u-form-item",{attrs:{label:"性别",prop:"registerForm.patient.sex",borderBottom:!0}},[r("u-radio-group",{attrs:{size:"30"},model:{value:e.registerForm.patient.sex,callback:function(t){e.$set(e.registerForm.patient,"sex",t)},expression:"registerForm.patient.sex"}},e._l(e.radiolist,(function(t,n){return r("u-radio",{key:n,staticStyle:{"margin-left":"20rpx"},attrs:{label:t.name,name:t.name,labelSize:"30",activeColor:"green"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}})})),1)],1),r("u-form-item",{attrs:{label:"预约类型",prop:"registerForm.type",borderBottom:!0}},[r("u-picker",{attrs:{show:e.show,columns:e.columns,keyName:"label"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.typeConfirm.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.show=!1}}}),r("u--input",{attrs:{disabled:!0,disabledColor:"#ffffff",placeholder:"请选择预约类型",border:"none"},model:{value:e.registerForm.type,callback:function(t){e.$set(e.registerForm,"type",t)},expression:"registerForm.type"}}),r("u-icon",{attrs:{slot:"right",name:"arrow-right"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.show=!0}},slot:"right"})],1),r("u-form-item",{attrs:{label:"预约时间",prop:"registerForm.appointment_time",borderBottom:!0}},[r("u-datetime-picker",{attrs:{show:e.showDate,mode:"datetime",type:"datetime"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.timeConfirm.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.showDate=!1}},model:{value:e.registerForm.time,callback:function(t){e.$set(e.registerForm,"time",t)},expression:"registerForm.time"}}),r("u--input",{attrs:{disabled:!0,disabledColor:"#ffffff",placeholder:"请选择预约时间",border:"none"},model:{value:e.registerForm.appointment_time,callback:function(t){e.$set(e.registerForm,"appointment_time",t)},expression:"registerForm.appointment_time"}}),r("u-icon",{attrs:{slot:"right",name:"arrow-right"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showDate=!0}},slot:"right"})],1),r("u-form-item",{attrs:{label:"病情描述",prop:"registerForm.inquiry_detail",borderBottom:!0}},[r("u--textarea",{attrs:{placeholder:"请输入病情描述，用于预诊断"},model:{value:e.registerForm.inquiry_detail,callback:function(t){e.$set(e.registerForm,"inquiry_detail",t)},expression:"registerForm.inquiry_detail"}})],1),r("u-form-item",{attrs:{label:"预留电话",prop:"registerForm.inquiry_detail",borderBottom:!0}},[r("u-input",{attrs:{border:"none",placeholder:"请输入电话号码"},model:{value:e.registerForm.reserved_phone,callback:function(t){e.$set(e.registerForm,"reserved_phone",t)},expression:"registerForm.reserved_phone"}})],1),"医师"===e.$store.state.user.userInfo.role?r("u-form-item",[r("v-uni-button",{staticClass:"cssbuttons-io-button",staticStyle:{width:"80%",display:"flex","justify-content":"center",height:"50%"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleUpdate.apply(void 0,arguments)}}},[r("span",{staticStyle:{"font-size":"35rpx","font-weight":"bold"}},[e._v("接诊")])])],1):e._e()],1)],1)],1)},a=[]},"717d":function(e,t,r){var n=r("c86c");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * uni-app内置的常用样式变量\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.container[data-v-3641deab]{height:100%;display:flex;flex-direction:column}.container .navigator[data-v-3641deab]{display:flex;justify-content:space-between;align-items:center;padding:%?25?% %?20?%;color:#fff;background-color:#84c99a}.container .form-container[data-v-3641deab]{flex:1;background-color:#fff;padding:%?20?%}.container .form-container .cssbuttons-io-button[data-v-3641deab]{margin-top:%?20?%;display:flex;align-items:center;font-family:inherit;cursor:pointer;font-weight:500;font-size:%?32?%;padding:.7em 1.4em .7em 1.1em;color:#fff;background:#ad5389;background:linear-gradient(0deg,#14a73e,#66f771);border:none;box-shadow:0 .7em 1.5em -.5em rgba(20,167,62,.596078431372549);letter-spacing:.05em;border-radius:20em}.container .form-container .cssbuttons-io-button svg[data-v-3641deab]{margin-right:6px}.container .form-container .cssbuttons-io-button[data-v-3641deab]:hover{box-shadow:0 .5em 1.5em -.5em rgba(20,167,62,.596078431372549)}.container .form-container .cssbuttons-io-button[data-v-3641deab]:active{box-shadow:0 .3em 1em -.5em rgba(20,167,62,.596078431372549)}',""]),e.exports=t},7738:function(e,t,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2634")),a=n(r("2fdc")),o=r("e3ce"),s=(r("0580"),r("9b94")),u=r("9b3f"),d={data:function(){return{registerForm:{},rules:{},radiolist:[{name:"男",disabled:!1},{name:"女",disabled:!1}],columns:[[{label:"在家就医",id:"0"},{label:"社区就医",id:"1"}]],show:!1,showDate:!1}},onLoad:function(e){var t=this;return(0,a.default)((0,i.default)().mark((function r(){var n;return(0,i.default)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(0,o.queryInquiryRecordById)(e.id);case 2:n=r.sent,t.registerForm=n.data[0];case 4:case"end":return r.stop()}}),r)})))()},methods:{radioChange:function(e){this.registerForm.sex=e},typeConfirm:function(e){this.registerForm.type=e.value[0].label,this.show=!1},timeConfirm:function(e){this.registerForm.appointment_time=(0,u.formatTimestamp)(e.value),this.showDate=!1},handleUpdate:function(){var e=this;return(0,a.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.registerForm),t.next=3,(0,o.physicianReception)(e.registerForm.id,!0);case 3:return t.next=5,(0,s.toast)("接诊成功");case 5:e.$tab.navigateBack();case 6:case"end":return t.stop()}}),t)})))()}}};t.default=d},e3ce:function(e,t,r){"use strict";r("6a54");var n=r("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.medicalRegistration=function(e){return(0,i.default)({url:"/medical/medicalRegistration",method:"post",data:e,headers:{isToken:!0}})},t.physicianReception=function(e,t){return(0,i.default)({url:"/inquiry/physicianReception",method:"put",params:{id:e,isReception:t},headers:{isToken:!0}})},t.physiciansOrderAgentDrug=function(e){return(0,i.default)({url:"/drug/physiciansOrderAgentDrug",method:"post",params:{id:e},headers:{isToken:!0}})},t.physiciansOrderDelivery=function(e,t){return(0,i.default)({url:"/drug/physiciansOrderDelivery",method:"post",params:{id:e,certificate:t},headers:{isToken:!0}})},t.queryInquiryRecordById=function(e){return(0,i.default)({url:"/inquiry/queryInquiryRecordById",method:"get",params:{id:e},headers:{isToken:!1}})},t.queryMedialRecordInformation=function(e){return(0,i.default)({url:"/medical/queryMedialRecordInformation",method:"get",params:{inquiryId:e},headers:{isToken:!1}})},t.queryPhysicianInquiryRecord=function(e){return(0,i.default)({url:"/inquiry/queryPhysicianInquiryRecord",method:"get",params:{isInquiry:e},headers:{isToken:!0}})},t.queryPhysiciansAgentHistoryRecord=function(e){return(0,i.default)({url:"/drug/queryPhysiciansAgentHistoryRecord",method:"get",params:{raw:e},headers:{isToken:!0}})};var i=n(r("72fb"))},e663:function(e,t,r){"use strict";r.r(t);var n=r("5d50"),i=r("1e84");for(var a in i)["default"].indexOf(a)<0&&function(e){r.d(t,e,(function(){return i[e]}))}(a);r("2346");var o=r("828b"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"3641deab",null,!1,n["a"],void 0);t["default"]=s.exports},e6cc:function(e,t,r){var n=r("717d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=r("967d").default;i("17dc4eae",n,!0,{sourceMap:!1,shadowMode:!1})}}]);