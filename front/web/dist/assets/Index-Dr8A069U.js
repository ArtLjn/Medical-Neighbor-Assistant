import"./tab-CfzNS0gn.js";import{o as D,p as N,E as S,a as L,b as T,c as A,d as F,e as I}from"./system-CZuMqlKd.js";import"./el-tooltip-O_o30Oq1.js";import"./request-D-c76pkJ.js";import{i as U}from"./index-Cc46_B1g.js";import{_ as z}from"./WenZhenDetail-v6FWEdkK.js";import{r as p,o as k,c as m,d as c,f as e,w as l,ac as B,h as u,e as $,j,k as q}from"./index-BqR9c6V8.js";import"./refs-DyozHSih.js";const G={key:0},M={key:1},Y={__name:"Index",setup(O){const _=p(null),r=p({}),x=async()=>{r.value=await D()},C=()=>{const a=U(_.value),o={title:{text:"订单量趋势图"},tooltip:{trigger:"axis"},legend:{data:["订单量"],bottom:"0%"},xAxis:{type:"category",boundaryGap:!1,data:r.value.dayList,axisLine:{lineStyle:{}},axisLabel:{}},yAxis:{type:"value",axisLine:{lineStyle:{}},axisLabel:{}},series:[{name:"订单量",type:"line",smooth:!1,lineStyle:{color:"#25ACFF"},symbol:"circle",symbolSize:5,itemStyle:{color:"#25ACFF"},data:r.value.count}]};a.setOption(o),window.addEventListener("resize",a.resize)};k(async()=>{await x(),console.log(r.value),C()});const y=p([]);p({page:1,size:10,total:null});const f=async()=>{y.value=await N()};k(()=>{f()});const g=p(),b=(a,o)=>{g.value.open(a,o)};return(a,o)=>{const d=j,s=L,V=T,v=A,i=q,n=F,h=I,w=S;return m(),c(B,null,[e(w,null,{default:l(()=>[e(v,null,{default:l(()=>[e(s,{span:20},{default:l(()=>[e(v,{gutter:10},{default:l(()=>[e(s,{span:4},{default:l(()=>[e(d,{modelValue:a.searchID,"onUpdate:modelValue":o[0]||(o[0]=t=>a.searchID=t),placeholder:"请输入id"},null,8,["modelValue"])]),_:1}),e(s,{span:4,style:{"margin-left":"20px"}},{default:l(()=>[e(d,{modelValue:a.patientName,"onUpdate:modelValue":o[1]||(o[1]=t=>a.patientName=t),placeholder:"请输入患者姓名"},null,8,["modelValue"])]),_:1}),e(s,{span:4,style:{"margin-left":"20px"}},{default:l(()=>[e(d,{modelValue:a.doctorName,"onUpdate:modelValue":o[2]||(o[2]=t=>a.doctorName=t),placeholder:"请输入医师姓名"},null,8,["modelValue"])]),_:1}),e(s,{span:11,style:{display:"flex","align-items":"center"}},{default:l(()=>[e(V,{modelValue:a.value1,"onUpdate:modelValue":o[3]||(o[3]=t=>a.value1=t),placeholder:"请选择开始日期",style:{"margin-left":"20px"}},null,8,["modelValue"]),e(V,{modelValue:a.value2,"onUpdate:modelValue":o[4]||(o[4]=t=>a.value2=t),"arrow-control":"",placeholder:"请选择结束日期",style:{"margin-left":"20px"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{span:3,style:{"margin-left":"30px"}},{default:l(()=>[e(i,{type:"primary",onClick:f},{default:l(()=>[u("搜索")]),_:1}),e(i,{onClick:a.reset},{default:l(()=>[u("重置")]),_:1},8,["onClick"])]),_:1})]),_:1}),$("div",{ref_key:"chart",ref:_,style:{width:"100%",height:"400px","margin-top":"20px"}},null,512),e(h,{data:y.value,style:{width:"100%","margin-top":"20px"}},{default:l(()=>[e(n,{prop:"drug_id",label:"ID",width:"80px"}),e(n,{prop:"patient_username",label:"患者姓名"}),e(n,{prop:"physician_username",label:"医师姓名"}),e(n,{prop:"hospital",label:"医院名称"}),e(n,{prop:"prop",label:"病例详情"},{default:l(({row:t})=>[e(i,{type:"text",onClick:E=>b(t,"0")},{default:l(()=>[u("查看")]),_:2},1032,["onClick"])]),_:1}),e(n,{prop:"create_time",label:"创建时间"}),e(n,{prop:"already_buy",label:"派送情况"},{default:l(({row:t})=>[t.already_buy===1?(m(),c("span",G,"已派送")):(m(),c("span",M,"未派送"))]),_:1}),e(n,{prop:"prop",label:"操作"},{default:l(({row:t})=>[e(i,{type:"text",onClick:E=>b(t,"1")},{default:l(()=>[u("审批")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(z,{ref_key:"dialog",ref:g},null,512)],64)}}};export{Y as default};
