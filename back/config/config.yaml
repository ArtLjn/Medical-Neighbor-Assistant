server:
  host: 0.0.0.0
  port: 8088
  grace_stop: false # 优雅停止

mysql:
  username: root
  password: 123456
  host: localhost
  port: 3306
  database: med_health
  charset: utf8mb4

mongo:
  url: "mongodb://myusername:mygptpassword@192.168.1.115:27017/fastgpt?authSource=admin&directConnection=true"

upload:
  domain: http://192.168.1.115:8080/ipfs/ # ipfs网管
  max_size: 2GB # 最大上传内存
  ipfs: http://192.168.1.115:5001 # ipfs服务地址

redis:
  addr: 127.0.0.1:6379
  password: ""
  db: 0

# 合约配置文件
contract:
  contract_name: MedHealth
  contract_address: 0xfa1d0eb7214e56155b2ca6a2dd6af60a9717e5fe
  contract_abi: '[{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"physicianAcceptDrugDelivery","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"accountAddress","type":"address"},{"name":"role","type":"string"},{"name":"uuid","type":"string"}],"name":"registerAccount","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"hospitalReviewInquiry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"id","type":"uint256"}],"name":"getDrugDelivery","outputs":[{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"string"},{"name":"","type":"uint8"},{"name":"","type":"uint8"},{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"physicianRecInquiry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"}],"name":"hospitalReviewDrugDelivery","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"},{"name":"inquiryType","type":"string"}],"name":"patientRegistrationInquiry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"id","type":"uint256"}],"name":"getInquiry","outputs":[{"name":"","type":"uint256"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"uint8"},{"name":"","type":"uint8"},{"name":"","type":"uint8"},{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"},{"name":"inquiryId","type":"uint256"}],"name":"patientRegDrugDelivery","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"},{"name":"physicianAddress","type":"address"}],"name":"hospitalDisInquiry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"},{"name":"medicalHash","type":"string"},{"name":"videoHash","type":"string"}],"name":"physicianDiagnosisInquiry","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"id","type":"uint256"},{"name":"certiHash","type":"string"}],"name":"physicianDeliveryDrug","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"accountAddress","type":"address"}],"name":"getAccount","outputs":[{"name":"","type":"address"},{"name":"","type":"string"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]'
  owner: 0x29e2db8ad37fb85a2466db8517d380dc98c2d51c
  server_host: "http://localhost:5002"
  trans_url: "/WeBASE-Front/trans/handle"
  parse_url: "/WeBASE-Front/tool/decode"
  account_url: "/WeBASE-Front/privateKey?type=0&userName="

# 默认管理员账号密码
defaultAdmin:
  username: admin
  password: admin
  chain_address: 0xD394c7080eC46D2e1e026BE3c9bb0106D27F8826 #区块链账户地址

log:  # 日志管理服务
  level: debug  # 日志输出级别
  clean_cycle: 7  # 日志清理周期
  out_path: log  # 日志输出路径
  prefix: MediaNeighbor  # 日志文件前缀
  open: true  # 是否开启日志文件输出服务

ai: # AI
  url: http://192.168.1.115:3001/v1/chat/completions # 服务地址
  authorization: Bearer sk-fastgptnb
  prompt:
    # 问诊总结话术
    sum_up_inquiry: "你现在是一名病历生成助手，下面是用户与AI的对话记录，请你分析这些对话记录去总结生成一分病历总结，简短易懂一段话"
  #是否开启聊天记录mongo监听
  watch_mongo_chat: true
  # AI服务总开关
  open_ai_server: false

authorizationFilter:  # 权限认证路径管理
  jwt_key: "med_health_key_@key"
  need_authorization_api_list: #需要权限认证的接口
    - /api/user/queryUserMessage
    - /api/inquiry/queryPatientInquiryRecord
    - /api/inquiry/queryPhysicianInquiryRecord
    - /api/inquiry/createInquiryRecord
    - /api/inquiry/physicianReception
    - /api/drug/queryPatientAgentDrugHistory
    - /api/drug/queryPhysiciansAgentHistoryRecord
    - /api/drug/patientAgentDrugConfirmReceipt
    - /api/drug/physiciansOrderAgentDrug
    - /api/drug/physiciansOrderDelivery
    - /api/medical/medicalRegistration
    - /api/ai/getMedicalSum

